{"ast":null,"code":"import _objectSpread from\"/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useCallback}from\"react\";import axios from\"axios\";import{useSnackbar}from\"notistack\";var useDelete=function useDelete(_ref){var url=_ref.url;var apiUrl=window.siteSetting.dev?window.siteSetting.testApiUrl:window.siteSetting.apiUrl;var _useState=useState({data:null,isLoading:false,error:null}),_useState2=_slicedToArray(_useState,2),res=_useState2[0],setRes=_useState2[1];var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var callAPI=useCallback(function(){setRes(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{isLoading:true});});var token=localStorage.getItem(\"Token\");axios.delete(apiUrl+url,{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(response){setRes({data:response.data,isLoading:false,error:null});enqueueSnackbar(\"Delete successful\",{variant:\"success\"});}).catch(function(error){setRes({data:null,isLoading:false,error:error});enqueueSnackbar(\"Delete Error\",{variant:\"error\"});});},[url]);return[res,callAPI];};export default useDelete;","map":{"version":3,"sources":["/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI/src/hooks/https/useDelete.js"],"names":["useState","useCallback","axios","useSnackbar","useDelete","url","apiUrl","window","siteSetting","dev","testApiUrl","data","isLoading","error","res","setRes","enqueueSnackbar","callAPI","prevState","token","localStorage","getItem","delete","headers","Authorization","then","response","variant","catch"],"mappings":"iVAAA,OAASA,QAAT,CAAmBC,WAAnB,KAAsC,OAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,WAA5B,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAa,IAAVC,CAAAA,GAAU,MAAVA,GAAU,CAC7B,GAAMC,CAAAA,MAAM,CAAGC,MAAM,CAACC,WAAP,CAAmBC,GAAnB,CACXF,MAAM,CAACC,WAAP,CAAmBE,UADR,CAEXH,MAAM,CAACC,WAAP,CAAmBF,MAFvB,CAD6B,cAIPN,QAAQ,CAAC,CAAEW,IAAI,CAAE,IAAR,CAAcC,SAAS,CAAE,KAAzB,CAAgCC,KAAK,CAAE,IAAvC,CAAD,CAJD,wCAItBC,GAJsB,eAIjBC,MAJiB,gCAKDZ,WAAW,EALV,CAKrBa,eALqB,cAKrBA,eALqB,CAO7B,GAAMC,CAAAA,OAAO,CAAGhB,WAAW,CAAC,UAAM,CAChCc,MAAM,CAAC,SAACG,SAAD,wCAAqBA,SAArB,MAAgCN,SAAS,CAAE,IAA3C,IAAD,CAAN,CACA,GAAMO,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAEAnB,KAAK,CACFoB,MADH,CACUhB,MAAM,CAAGD,GADnB,CACwB,CACpBkB,OAAO,CAAE,CAAEC,aAAa,kBAAYL,KAAZ,CAAf,CADW,CADxB,EAIGM,IAJH,CAIQ,SAACC,QAAD,CAAc,CAClBX,MAAM,CAAC,CAAEJ,IAAI,CAAEe,QAAQ,CAACf,IAAjB,CAAuBC,SAAS,CAAE,KAAlC,CAAyCC,KAAK,CAAE,IAAhD,CAAD,CAAN,CACAG,eAAe,CAAC,mBAAD,CAAsB,CACnCW,OAAO,CAAE,SAD0B,CAAtB,CAAf,CAGD,CATH,EAUGC,KAVH,CAUS,SAACf,KAAD,CAAW,CAChBE,MAAM,CAAC,CAAEJ,IAAI,CAAE,IAAR,CAAcC,SAAS,CAAE,KAAzB,CAAgCC,KAAK,CAALA,KAAhC,CAAD,CAAN,CACAG,eAAe,CAAC,cAAD,CAAiB,CAC9BW,OAAO,CAAE,OADqB,CAAjB,CAAf,CAGD,CAfH,EAgBD,CApB0B,CAoBxB,CAACtB,GAAD,CApBwB,CAA3B,CAqBA,MAAO,CAACS,GAAD,CAAMG,OAAN,CAAP,CACD,CA7BD,CA+BA,cAAeb,CAAAA,SAAf","sourcesContent":["import { useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\n\nconst useDelete = ({ url }) => {\n  const apiUrl = window.siteSetting.dev\n    ? window.siteSetting.testApiUrl\n    : window.siteSetting.apiUrl;\n  const [res, setRes] = useState({ data: null, isLoading: false, error: null });\n  const { enqueueSnackbar } = useSnackbar();\n\n  const callAPI = useCallback(() => {\n    setRes((prevState) => ({ ...prevState, isLoading: true }));\n    const token = localStorage.getItem(\"Token\");\n\n    axios\n      .delete(apiUrl + url, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then((response) => {\n        setRes({ data: response.data, isLoading: false, error: null });\n        enqueueSnackbar(\"Delete successful\", {\n          variant: \"success\",\n        });\n      })\n      .catch((error) => {\n        setRes({ data: null, isLoading: false, error });\n        enqueueSnackbar(\"Delete Error\", {\n          variant: \"error\",\n        });\n      });\n  }, [url]);\n  return [res, callAPI];\n};\n\nexport default useDelete;\n"]},"metadata":{},"sourceType":"module"}