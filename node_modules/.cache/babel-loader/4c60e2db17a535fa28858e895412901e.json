{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import{Avatar,Button,TextField,Typography,makeStyles,Container}from\"@material-ui/core\";import{LockOutlined}from\"@material-ui/icons\";// hooks\nimport{usePost}from\"../../../hooks\";var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:\"100%\",// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});var SignIn=function SignIn(){var history=useHistory();var classes=useStyles();var _React$useState=React.useState({email:\"\",password:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),states=_React$useState2[0],setStates=_React$useState2[1];var _usePost=usePost({url:\"/login/management\",headers:{},payload:states}),_usePost2=_slicedToArray(_usePost,2),res=_usePost2[0],postMethod=_usePost2[1];React.useEffect(function(){window.scroll(0,0);},[]);var handleValuesChange=function handleValuesChange(prop){return function(event){setStates(_objectSpread(_objectSpread({},states),{},_defineProperty({},prop,event.target.value)));};};var handleSignIn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();postMethod();case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSignIn(_x){return _ref.apply(this,arguments);};}();React.useEffect(function(){if(res.data){localStorage.setItem(\"Token\",res.data.token);axios.defaults.headers.common={authentication:\"Bearer \".concat(res.data.token)};history.push(\"/management/signlanguages\");}},[res]);return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlined,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:states.email,onChange:handleValuesChange(\"email\")}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:states.password,onChange:handleValuesChange(\"password\")}),res.error&&/*#__PURE__*/_jsx(Typography,{style:{color:\"#DC3544\"},children:res.error.message}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",size:\"large\",className:classes.submit,onClick:handleSignIn,disabled:res.isLoading,children:\"Sign In\"})]})]})});};export default SignIn;","map":{"version":3,"sources":["/Users/manmanbbg/Desktop/degree/FYP/project/FYP_UI/src/views/Management/SignIn/SignIn.js"],"names":["React","axios","useHistory","Avatar","Button","TextField","Typography","makeStyles","Container","LockOutlined","usePost","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignIn","history","classes","useState","email","password","states","setStates","url","headers","payload","res","postMethod","useEffect","window","scroll","handleValuesChange","prop","event","target","value","handleSignIn","preventDefault","data","localStorage","setItem","token","defaults","common","authentication","push","error","color","message","isLoading"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Avatar,\n  Button,\n  TextField,\n  Typography,\n  makeStyles,\n  Container,\n} from \"@material-ui/core\";\nimport { LockOutlined } from \"@material-ui/icons\";\n// hooks\nimport { usePost } from \"../../../hooks\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst SignIn = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const [states, setStates] = React.useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [res, postMethod] = usePost({\n    url: \"/login/management\",\n    headers: {},\n    payload: states,\n  });\n\n  React.useEffect(() => {\n    window.scroll(0, 0);\n  }, []);\n\n  const handleValuesChange = (prop) => (event) => {\n    setStates({ ...states, [prop]: event.target.value });\n  };\n\n  const handleSignIn = async (event) => {\n    event.preventDefault();\n    postMethod();\n  };\n\n  React.useEffect(() => {\n    if (res.data) {\n      localStorage.setItem(\"Token\", res.data.token);\n      axios.defaults.headers.common = {\n        authentication: `Bearer ${res.data.token}`,\n      };\n      history.push(\"/management/signlanguages\");\n    }\n  }, [res]);\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlined />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            value={states.email}\n            onChange={handleValuesChange(\"email\")}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={states.password}\n            onChange={handleValuesChange(\"password\")}\n          />\n          {res.error && (\n            <Typography style={{ color: \"#DC3544\" }}>\n              {res.error.message}\n            </Typography>\n          )}\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            className={classes.submit}\n            onClick={handleSignIn}\n            disabled={res.isLoading}\n          >\n            Sign In\n          </Button>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}